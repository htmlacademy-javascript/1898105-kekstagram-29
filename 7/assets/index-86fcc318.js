(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function c(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=c(o);fetch(o.href,n)}})();const s=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;function h(t,e){return t.length<=e}h("проверяемая строка",20);function C(t){const e=t.replaceAll(" ","").toLowerCase();let c="";for(let r=e.length-1;r>=0;r--)c+=e.at([r]);return e===c}C("Лёша на полке клопа нашёл ");function _(t){const e=t.toString();let c="";for(let r=0;r<e.length;r++)Number.isNaN(parseInt(e[r],10))||(c+=e[r]);return parseInt(c,10)}_("ECMAScript 2022");const S=t=>t.key==="Escape",P=25,q=30,u=["Всё отлично!","В целом всё неплохо. Но не всё.","Когда вы делаете фотографию, хорошо бы убирать палец из кадра. В конце концов это просто непрофессионально.","Моя бабушка случайно чихнула с фотоаппаратом в руках и у неё получилась фотография лучше.","Я поскользнулся на банановой кожуре и уронил фотоаппарат на кота и у меня получилась фотография лучше.","Лица у людей на фотке перекошены, как будто их избивают. Как можно было поймать такой неудачный момент?!"],a={MIN:15,MAX:200},m={MIN:1,MAX:1e6},d={MIN:1,MAX:6},p=["Иван","Андрей","Мария","Николай","Елена","Ольга","Фигаро"],g=["Описание 1","Описание 2","Описание 3","Описание 4","Описание 5"],f=()=>({id:s(m.MIN,m.MAX),avatar:`img/avatar-${s(d.MIN,d.MAX)}.svg`,message:u[s(0,u.length-1)],name:p[s(0,p.length-1)]}),M=t=>({id:t,url:`photos/${t}.jpg`,description:g[s(0,g.length-1)],likes:s(a.MIN,a.MAX),comments:Array.from({length:s(0,q)},f)}),N=()=>{const t=[];for(let e=1;e<=P;e++)t.push(M(e));return t},l=document.querySelector(".big-picture"),L=document.querySelector(".big-picture__img"),v=L.querySelector("img"),b=document.querySelector(".social__caption"),E=document.querySelector(".likes-count"),I=document.querySelector(".big-picture__cancel"),A=document.querySelector(".comments-count"),O=document.querySelector(".social__comments"),k=()=>{const e=document.querySelector(".social__comment").cloneNode(!0),c=f();e.querySelector(".social__picture").src=c.avatar,e.querySelector(".social__picture").alt=c.name,e.querySelector(".social__text").textContent=c.message,O.appendChild(e)},x=()=>{l.classList.add("hidden"),document.body.classList.remove("modal-open")},X=t=>{S(t)&&(t.preventDefault(),l.classList.add("hidden"),document.body.classList.remove("modal-open"))},w=t=>{const{url:e,likes:c,comments:r,description:o}=t;l.classList.remove("hidden"),document.body.classList.add("modal-open"),v.src=e,b.textContent=o,E.textContent=c,A.textContent=r.length,k(),I.addEventListener("click",x),document.addEventListener("keydown",X)},B=document.querySelector(".pictures"),D=document.querySelector("#picture").content,T=D.querySelector("a"),F=t=>{const{url:e,likes:c,comments:r,description:o}=t,n=T.cloneNode(!0);n.querySelector(".picture__img").src=e,n.querySelector(".picture__img").alt=o,n.querySelector(".picture__comments").textContent=r.length,n.querySelector(".picture__likes").textContent=c;const i=y=>{y.preventDefault(),w(t)};return n.addEventListener("click",i),n},K=t=>{const e=document.createDocumentFragment();t.forEach(c=>{e.append(F(c))}),B.append(e)};K(N());
